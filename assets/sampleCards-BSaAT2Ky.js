import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{r as o}from"./iframe-ZVNyQdGD.js";const p=({card:a,onReveal:d,renderGenericFace:n,initiallyFlipped:c=!1,className:u=""})=>{const[r,l]=o.useState(c),s=e=>{e&&e.stopPropagation(),l(i=>!i),r||d?.()},g=o.useMemo(()=>{const e=a.genericFace;if(!e)return null;if(n)return n(e);if(e.type){if(e.type==="image"){const i=e.src,m=e.alt??a.title??"card image";return t.jsx("img",{src:i,alt:m,style:{maxWidth:"100%",maxHeight:"100%",display:"block",objectFit:"contain"},loading:"lazy"})}if(e.type==="html"){const i=e.html;return t.jsx("div",{dangerouslySetInnerHTML:{__html:i}})}}return typeof e=="string"?t.jsx("img",{src:e,alt:a.title??"card image",style:{maxWidth:"100%"},loading:"lazy"}):e.src?t.jsx("img",{src:e.src,alt:e.alt??a.title,style:{maxWidth:"100%"},loading:"lazy"}):null},[a,n]);return t.jsxs("div",{className:`kreeda-card ${u}`,style:{perspective:1e3,width:320,userSelect:"none"},children:[t.jsxs("div",{className:"kreeda-card-inner",role:"button",tabIndex:0,"aria-pressed":r,"aria-label":`Card ${a.title??""} (press Enter or Space to flip)`,onClick:s,onKeyDown:e=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),s(e))},style:{cursor:"pointer",transformStyle:"preserve-3d",transition:"transform 320ms",transform:r?"rotateY(180deg)":"rotateY(0deg)"},children:[t.jsxs("div",{className:"kreeda-card-front",style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden",border:"1px solid #ddd",borderRadius:8,padding:12,background:"#fff",boxShadow:"0 2px 6px rgba(0,0,0,0.06)"},children:[t.jsx("h3",{style:{margin:0,fontSize:18},children:a.title}),t.jsx("p",{style:{marginTop:8,marginBottom:8},children:a.description}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("small",{style:{color:"#666"},children:a.category??"general"}),t.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),s()},"aria-label":"Reveal generic face",children:"Reveal"})]})]}),t.jsx("div",{className:"kreeda-card-back",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",transform:"rotateY(180deg)",backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden",border:"1px solid #ddd",borderRadius:8,padding:12,background:"#f8f8f8",display:"flex",alignItems:"center",justifyContent:"center",overflow:"auto"},children:g??t.jsxs("div",{style:{color:"#777",textAlign:"center"},children:[t.jsx("div",{style:{fontSize:14,fontWeight:600},children:a.title}),t.jsx("div",{style:{fontSize:12},children:"No generic face"}),t.jsx("div",{style:{marginTop:8},children:t.jsx("button",{onClick:e=>{e.stopPropagation(),l(!1)},type:"button",children:"Back"})})]})})]}),t.jsx("style",{children:`
          @media (prefers-reduced-motion: reduce) {
            .kreeda-card-inner { transition: none !important; }
          }
        `})]})};p.__docgenInfo={description:"",methods:[],displayName:"Card",props:{card:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  id: string;
  title: string;
  description: string;
  category?: string;
  adultOnly?: boolean;
  tags?: string[];
  genericFace?: GenericFace | string | null;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"description",value:{name:"string",required:!0}},{key:"category",value:{name:"string",required:!1}},{key:"adultOnly",value:{name:"boolean",required:!1}},{key:"tags",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"genericFace",value:{name:"union",raw:"GenericFace | string | null",elements:[{name:"union",raw:`| { type: "image"; src: string; alt?: string }
| { type: "html"; html: string }`,elements:[{name:"signature",type:"object",raw:'{ type: "image"; src: string; alt?: string }',signature:{properties:[{key:"type",value:{name:"literal",value:'"image"',required:!0}},{key:"src",value:{name:"string",required:!0}},{key:"alt",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:'{ type: "html"; html: string }',signature:{properties:[{key:"type",value:{name:"literal",value:'"html"',required:!0}},{key:"html",value:{name:"string",required:!0}}]}}]},{name:"string"},{name:"null"}],required:!1}}]}},description:""},onReveal:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},renderGenericFace:{required:!1,tsType:{name:"signature",type:"function",raw:'(genericFace: WellnessCard["genericFace"] | undefined) => React.ReactNode',signature:{arguments:[{type:{name:"union",raw:'WellnessCard["genericFace"] | undefined',elements:[{name:"union",raw:'WellnessCard["genericFace"]'},{name:"undefined"}]},name:"genericFace"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},initiallyFlipped:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}}}};const h=[{id:"c1",title:"Talk About Boundaries",description:"Share one boundary you value in intimate settings. Listen respectfully.",category:"consent",adultOnly:!1,tags:["boundaries","communication"]},{id:"c2",title:"Favorite Comfort Ritual",description:"Describe a simple ritual that helps you feel relaxed and connected.",category:"wellness",adultOnly:!1,tags:["comfort","routine"]},{id:"c3",title:"Consent Check",description:"Practice a short explicit consent phrase you both agree on.",category:"consent",adultOnly:!1,tags:["consent","phrases"]},{id:"c4",title:"Communication Icebreaker",description:"Name something that makes you feel appreciated; why does it matter?",category:"communication",adultOnly:!1,tags:["gratitude"]},{id:"c5",title:"Healthy Myth Busting",description:"Name a common sexual wellness myth you’ve heard and whether you think it’s true.",category:"education",adultOnly:!1,tags:["myth","facts"]}];export{p as C,h as S};
